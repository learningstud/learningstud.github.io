<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style type="text/css">
        #out
        {
            width: 250px;
            height: 30px;
            display: block;
            border: solid 2px green;
        }
        #chatter
        {
            width: 200px;
            padding: 5px 5px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h3 id="title"></h3>
    <output id="out"></output>
    <input id="chatter" type="text" autofocus />
    <button id="send-button">send</button>
</body>
	<script type="text/javascript">
		if (!!window.SharedWorker)
		{
			//var name = Math.round(Math.random() * 1000).toString;
			var worker = new SharedWorker("com.js");

			worker.port.onmessage = function(e)
			{
				document.getElementById("out").innerHTML = e.data;
			}

			//document.getElementById("title").innerHTML = name;
			document.getElementById("send-button").onclick = function(e)
			{
				var msg = document.getElementById("chatter").value;
				worker.port.postMessage(msg);
			}
		}
    </script>
</html>